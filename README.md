**Описание:**
- Файл со скриптом - DevOps_test_task.sh
- Логи полной работы скрипта для двух серверов - PG_install_on_AlmaLinux.log и PG_install_on_Debian.log

**Сервера:**

Целевые сервера:
- Debian 12.10	IP: 192.168.21.70
- AlmaLinux 9.5	IP: 192.168.21.62

Bash скрипт выполнялся на 3-ем сервере Debian 12.10

**Предварительные условия:**

Были сгенерированы пара ключей RSA на управляющем сервере
- .ssh-keygen -t rsa

Публичны ключи скопированы на целевые сервера
- cat ~/.ssh/id_rsa.pub | ssh root@192.168.21.62 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
- cat ~/.ssh/id_rsa.pub | ssh root@192.168.21.70 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"

Ключ находится здесь:
"$HOME/.ssh/id_rsa"

На серверах установлена локаль и разделитель - точка
- localectl set-locale LANG=en_US.UTF-8
- localectl set-keymap us

**Особенности реализации:**

Для имитации нагрузки на сервер запускается команда
- dd if=/dev/random of=/dev/null

Нагрузка на сервер оценивается по значению Load Average за последнюю минуту


На серверах должны резолвиться имена серверов, либо посредство работающего DNS сервера, либо прописанными в hosts.
Аргументы к скрипту можно передавать как IP, так и имена. В процессе работы имена преобразуются в IP, чтобы не усложнять скрипт для записи строки подключения в pg_hba.conf
В скрипт добавлена проверка соответствия требованию аргументов.

Скрипт, в процессе работы устанавливает необходимые дополнительные пакеты. Так что 

После запуска скрипта будет предложено ввести номер версии PostgreSQL для установки. Далее все будет выполнено автоматически.

**Запуск скрипта:**
- ./DevOps_test_task.sh "<IP_1>,<IP_2>"
- ./DevOps_test_task.sh "<Hostname_1>,<Hostname_2>"

**Возникшие трудности:**

В процессе написания скрипта с конструкцией EOF возникли трудности. Если использовать ее без кавычек, то переменные внутри него не отрабатывают,
а если с кавычками, то не отрабатывают внешние переменные и команда read. Пришлось объявление переменных DISTR_CODENAME и DISTR_NUMBER, PG_HBA и PG_CONF выносить за команду EOF.
Также пришлось дробить команды внутри EOF, потому как не всегда конструкция отрабатывала все переменные.
